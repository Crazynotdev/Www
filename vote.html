<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Voter ‚Äì Llamabuzz Awards 2026</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* RESET ET VARIABLES */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #FF3366;
            --secondary: #6C63FF;
            --accent: #00D4FF;
            --success: #00D95F;
            --warning: #FFAA00;
            --dark: #0A0A14;
            --darker: #05050A;
            --light: #FFFFFF;
            --gray: #8888AA;
            --gray-light: #B8B8CC;
            --card-bg: rgba(26, 26, 36, 0.95);
            --gradient: linear-gradient(135deg, var(--primary), var(--secondary), var(--accent));
            --glass: rgba(255, 255, 255, 0.08);
            --glass-border: rgba(255, 255, 255, 0.12);
            --shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
            --radius: 20px;
            --transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        body {
            font-family: 'Poppins', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--dark);
            color: var(--light);
            min-height: 100vh;
            padding: 20px;
            position: relative;
            overflow-x: hidden;
        }

        /* ARRI√àRE-PLAN DYNAMIQUE */
        .background-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
            background: 
                radial-gradient(circle at 10% 20%, rgba(255, 51, 102, 0.15) 0%, transparent 40%),
                radial-gradient(circle at 90% 80%, rgba(108, 99, 255, 0.15) 0%, transparent 40%);
        }

        .floating-elements {
            position: fixed;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .floating-element {
            position: absolute;
            font-size: 2rem;
            opacity: 0.1;
            animation: floatElement 20s infinite linear;
        }

        @keyframes floatElement {
            0% { transform: translate(0, 0) rotate(0deg); }
            100% { transform: translate(100px, 100px) rotate(360deg); }
        }

        /* HEADER */
        .header {
            max-width: 800px;
            margin: 0 auto 40px;
            text-align: center;
            padding: 30px 20px;
        }

        .logo-container {
            display: inline-flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 25px;
            padding: 20px 40px;
            background: var(--glass);
            border-radius: var(--radius);
            border: 1px solid var(--glass-border);
            backdrop-filter: blur(10px);
        }

        .logo-img {
            height: 60px;
            width: auto;
            border-radius: 12px;
            border: 2px solid var(--primary);
            box-shadow: 0 0 20px rgba(255, 51, 102, 0.3);
        }

        .logo-text {
            font-size: 2.2rem;
            font-weight: 900;
            background: var(--gradient);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            letter-spacing: 1px;
        }

        .page-title {
            font-size: 3rem;
            font-weight: 800;
            margin-bottom: 15px;
            background: linear-gradient(135deg, var(--light), var(--accent));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 0 30px rgba(0, 212, 255, 0.3);
        }

        .page-subtitle {
            font-size: 1.2rem;
            color: var(--gray-light);
            max-width: 600px;
            margin: 0 auto;
            line-height: 1.6;
        }

        /* CONTENEUR PRINCIPAL */
        .container {
            max-width: 900px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 1fr;
            gap: 30px;
        }

        @media (min-width: 992px) {
            .container {
                grid-template-columns: 1fr 1fr;
            }
        }

        /* CARTE CANDIDAT */
        .candidate-card {
            background: var(--card-bg);
            border-radius: var(--radius);
            padding: 40px 35px;
            border: 1px solid var(--glass-border);
            box-shadow: var(--shadow);
            backdrop-filter: blur(10px);
            position: relative;
            overflow: hidden;
        }

        .candidate-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: var(--gradient);
        }

        .candidate-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .candidate-avatar {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            border: 4px solid var(--primary);
            margin: 0 auto 20px;
            box-shadow: 0 0 30px rgba(255, 51, 102, 0.3);
            object-fit: cover;
            background: var(--darker);
        }

        .candidate-name {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 10px;
            color: var(--light);
        }

        .candidate-category {
            display: inline-block;
            background: var(--glass);
            padding: 8px 20px;
            border-radius: 50px;
            color: var(--accent);
            font-size: 0.95rem;
            font-weight: 600;
            border: 1px solid var(--glass-border);
        }

        /* INFOS TICKET */
        .ticket-info {
            background: rgba(0, 212, 255, 0.1);
            border-radius: 15px;
            padding: 25px;
            margin: 25px 0;
            border: 1px solid rgba(0, 212, 255, 0.2);
            text-align: center;
        }

        .ticket-label {
            display: block;
            color: var(--gray-light);
            font-size: 0.9rem;
            margin-bottom: 10px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .ticket-number {
            font-size: 2.2rem;
            font-weight: 900;
            background: var(--gradient);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            letter-spacing: 2px;
            font-family: 'Courier New', monospace;
        }

        /* STATISTIQUES */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin: 30px 0;
        }

        .stat-item {
            text-align: center;
            padding: 20px;
            background: var(--glass);
            border-radius: 15px;
            border: 1px solid var(--glass-border);
        }

        .stat-value {
            font-size: 2.5rem;
            font-weight: 900;
            background: var(--gradient);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            line-height: 1;
            margin-bottom: 10px;
        }

        .stat-label {
            font-size: 0.9rem;
            color: var(--gray-light);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* CARTE DE VOTE */
        .vote-card {
            background: var(--card-bg);
            border-radius: var(--radius);
            padding: 40px 35px;
            border: 1px solid var(--glass-border);
            box-shadow: var(--shadow);
            backdrop-filter: blur(10px);
            position: relative;
            overflow: hidden;
        }

        .vote-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(135deg, var(--success), var(--accent));
        }

        .vote-title {
            font-size: 1.8rem;
            font-weight: 700;
            margin-bottom: 10px;
            color: var(--light);
            text-align: center;
        }

        .vote-subtitle {
            text-align: center;
            color: var(--gray-light);
            margin-bottom: 30px;
            font-size: 1rem;
            line-height: 1.6;
        }

        /* OPTIONS DE VOTE */
        .vote-options {
            margin: 30px 0;
        }

        .vote-option {
            background: var(--glass);
            border: 2px solid var(--glass-border);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            cursor: pointer;
            transition: var(--transition);
            position: relative;
        }

        .vote-option:hover {
            border-color: var(--accent);
            background: rgba(0, 212, 255, 0.1);
            transform: translateY(-3px);
        }

        .vote-option.selected {
            border-color: var(--success);
            background: rgba(0, 217, 95, 0.1);
            box-shadow: 0 10px 20px rgba(0, 217, 95, 0.2);
        }

        .vote-option-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .vote-option-title {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--light);
        }

        .vote-option-price {
            font-size: 2rem;
            font-weight: 900;
            background: var(--gradient);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .vote-option-details {
            color: var(--gray-light);
            font-size: 0.95rem;
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .vote-option-badge {
            display: inline-block;
            background: rgba(255, 170, 0, 0.15);
            color: var(--warning);
            padding: 5px 15px;
            border-radius: 50px;
            font-size: 0.85rem;
            font-weight: 600;
            border: 1px solid rgba(255, 170, 0, 0.3);
        }

        .vote-option-check {
            position: absolute;
            top: -10px;
            right: -10px;
            width: 30px;
            height: 30px;
            background: var(--success);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            opacity: 0;
            transform: scale(0);
            transition: var(--transition);
        }

        .vote-option.selected .vote-option-check {
            opacity: 1;
            transform: scale(1);
        }

        /* BOUTON DE VOTE */
        .vote-btn {
            width: 100%;
            padding: 22px;
            background: var(--gradient);
            color: var(--light);
            border: none;
            border-radius: 15px;
            font-size: 1.3rem;
            font-weight: 700;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
            position: relative;
            overflow: hidden;
        }

        .vote-btn:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 15px 30px rgba(108, 99, 255, 0.4);
        }

        .vote-btn:active:not(:disabled) {
            transform: translateY(0);
        }

        .vote-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .btn-spinner {
            display: none;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* MODAL DE CONFIRMATION */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .modal-overlay.show {
            display: flex;
            opacity: 1;
        }

        .modal {
            background: var(--card-bg);
            border-radius: var(--radius);
            padding: 40px;
            max-width: 500px;
            width: 90%;
            border: 1px solid var(--glass-border);
            box-shadow: var(--shadow);
            position: relative;
            animation: modalSlideIn 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: translateY(30px) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .modal-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .modal-icon {
            font-size: 4rem;
            color: var(--success);
            margin-bottom: 20px;
        }

        .modal-title {
            font-size: 2rem;
            font-weight: 700;
            color: var(--light);
            margin-bottom: 10px;
        }

        .modal-subtitle {
            color: var(--gray-light);
            font-size: 1.1rem;
            line-height: 1.6;
        }

        .modal-details {
            background: rgba(0, 212, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            border: 1px solid rgba(0, 212, 255, 0.2);
        }

        .modal-detail-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .modal-detail-item:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }

        .modal-detail-label {
            color: var(--gray-light);
        }

        .modal-detail-value {
            color: var(--light);
            font-weight: 600;
        }

        .modal-actions {
            display: flex;
            gap: 15px;
            margin-top: 30px;
        }

        .modal-btn {
            flex: 1;
            padding: 18px;
            border: none;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
        }

        .modal-btn.confirm {
            background: var(--success);
            color: white;
        }

        .modal-btn.confirm:hover {
            background: #00C254;
            transform: translateY(-2px);
        }

        .modal-btn.cancel {
            background: var(--glass);
            color: var(--light);
            border: 1px solid var(--glass-border);
        }

        .modal-btn.cancel:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        /* TOAST NOTIFICATION */
        .toast {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: var(--card-bg);
            border-left: 4px solid var(--success);
            padding: 20px 30px;
            border-radius: 12px;
            box-shadow: var(--shadow);
            display: flex;
            align-items: center;
            gap: 15px;
            z-index: 1001;
            opacity: 0;
            transition: var(--transition);
            backdrop-filter: blur(10px);
        }

        .toast.show {
            transform: translateX(-50%) translateY(0);
            opacity: 1;
        }

        .toast-icon {
            font-size: 1.5rem;
            color: var(--success);
        }

        .toast.error .toast-icon {
            color: var(--primary);
        }

        .toast-message {
            color: var(--light);
            font-size: 1rem;
        }

        /* FOOTER */
        .footer {
            text-align: center;
            margin-top: 60px;
            padding-top: 30px;
            border-top: 1px solid var(--glass-border);
            color: var(--gray);
            font-size: 0.9rem;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            gap: 25px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .footer-link {
            color: var(--accent);
            text-decoration: none;
            transition: var(--transition);
        }

        .footer-link:hover {
            color: var(--light);
            text-decoration: underline;
        }

        /* LOADER */
        .loader-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(10, 10, 20, 0.9);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1002;
            backdrop-filter: blur(10px);
        }

        .loader-overlay.show {
            display: flex;
        }

        .loader {
            width: 60px;
            height: 60px;
            border: 4px solid var(--glass);
            border-top-color: var(--accent);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        /* RESPONSIVE */
        @media (max-width: 768px) {
            .page-title {
                font-size: 2.2rem;
            }
            
            .container {
                padding: 0 15px;
            }
            
            .candidate-card,
            .vote-card {
                padding: 30px 25px;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .modal-actions {
                flex-direction: column;
            }
            
            .logo-container {
                flex-direction: column;
                padding: 20px;
            }
            
            .logo-text {
                font-size: 1.8rem;
            }
        }

        /* ANIMATIONS */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.6s ease-out forwards;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .pulse {
            animation: pulse 2s infinite;
        }
    </style>
</head>
<body>
    <!-- Arri√®re-plan anim√© -->
    <div class="background-animation"></div>
    <div class="floating-elements">
        <div class="floating-element" style="top:10%; left:5%; animation-delay:0s;">üèÜ</div>
        <div class="floating-element" style="top:20%; right:10%; animation-delay:2s;">‚≠ê</div>
        <div class="floating-element" style="bottom:30%; left:15%; animation-delay:4s;">‚ú®</div>
        <div class="floating-element" style="bottom:20%; right:5%; animation-delay:6s;">üéØ</div>
    </div>

    <!-- Header -->
    <header class="header fade-in">
        <div class="logo-container">
            <img src="../media/img.jpg" alt="Llamabuzz" class="logo-img" onerror="this.style.display='none'">
            <div class="logo-text">LLAMABUZZ</div>
        </div>
        <h1 class="page-title">VOTER POUR UN CANDIDAT</h1>
        <p class="page-subtitle">
            Soutenez votre candidat pr√©f√©r√© en achetant des votes. 
            Chaque vote compte pour la victoire aux WhatsApp Awards 2026 !
        </p>
    </header>

    <!-- Contenu principal -->
    <div class="container">
        <!-- Carte Candidat -->
        <div class="candidate-card fade-in">
            <div class="candidate-header">
                <div class="candidate-avatar" id="candidateAvatar">
                    <!-- Avatar g√©n√©r√© dynamiquement -->
                </div>
                <h2 class="candidate-name" id="candidateName">Chargement...</h2>
                <div class="candidate-category" id="candidateCategory">Cat√©gorie</div>
            </div>

            <!-- Info Ticket -->
            <div class="ticket-info">
                <span class="ticket-label">Ticket de Participation</span>
                <div class="ticket-number" id="ticketDisplay">META-WA-XXXXXX</div>
            </div>

            <!-- Statistiques -->
            <h3 style="color:var(--light); margin-bottom:20px; font-size:1.3rem;">
                <i class="fas fa-chart-line" style="color:var(--accent); margin-right:10px;"></i>
                Statistiques
            </h3>
            <div class="stats-grid">
                <div class="stat-item">
                    <div class="stat-value" id="votesCount">0</div>
                    <div class="stat-label">Votes Totaux</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="ranking">#0</div>
                    <div class="stat-label">Classement</div>
                </div>
            </div>

            <!-- Description -->
            <div style="margin-top:30px;">
                <h4 style="color:var(--light); margin-bottom:15px; font-size:1.1rem;">
                    <i class="fas fa-info-circle" style="color:var(--accent); margin-right:10px;"></i>
                    √Ä propos du candidat
                </h4>
                <p style="color:var(--gray-light); line-height:1.6;" id="candidateBio">
                    Ce candidat participe aux WhatsApp Awards 2026. 
                    Votre soutien est essentiel pour sa victoire !
                </p>
            </div>
        </div>

        <!-- Carte de Vote -->
        <div class="vote-card fade-in" style="animation-delay:0.2s">
            <h2 class="vote-title">ACHETER DES VOTES</h2>
            <p class="vote-subtitle">
                S√©lectionnez un pack de votes pour soutenir ce candidat. 
                Plus vous votez, plus vous augmentez ses chances de gagner !
            </p>

            <!-- Options de Vote -->
            <div class="vote-options">
                <div class="vote-option" data-votes="1" data-price="100" onclick="selectVoteOption(this)">
                    <div class="vote-option-header">
                        <div class="vote-option-title">Vote Standard</div>
                        <div class="vote-option-price">100 FCFA</div>
                    </div>
                    <div class="vote-option-details">
                        ‚Ä¢ 1 vote pour le candidat<br>
                        ‚Ä¢ Impact minimal<br>
                        ‚Ä¢ Vote unique
                    </div>
                    <div class="vote-option-check">
                        <i class="fas fa-check"></i>
                    </div>
                </div>

                <div class="vote-option" data-votes="10" data-price="800" onclick="selectVoteOption(this)">
                    <div class="vote-option-header">
                        <div class="vote-option-title">Pack Support</div>
                        <div class="vote-option-price">800 FCFA</div>
                    </div>
                    <div class="vote-option-details">
                        ‚Ä¢ 10 votes pour le candidat<br>
                        ‚Ä¢ √âconomie de 200 FCFA<br>
                        ‚Ä¢ Impact significatif
                    </div>
                    <div class="vote-option-badge">√âCONOMIE</div>
                    <div class="vote-option-check">
                        <i class="fas fa-check"></i>
                    </div>
                </div>

                <div class="vote-option" data-votes="50" data-price="3500" onclick="selectVoteOption(this)">
                    <div class="vote-option-header">
                        <div class="vote-option-title">Pack Premium</div>
                        <div class="vote-option-price">3 500 FCFA</div>
                    </div>
                    <div class="vote-option-details">
                        ‚Ä¢ 50 votes pour le candidat<br>
                        ‚Ä¢ √âconomie de 1 500 FCFA<br>
                        ‚Ä¢ Impact maximal
                    </div>
                    <div class="vote-option-badge">MEILLEURE OFFRE</div>
                    <div class="vote-option-check">
                        <i class="fas fa-check"></i>
                    </div>
                </div>
            </div>

            <!-- R√©sum√© -->
            <div style="background:var(--glass); border-radius:15px; padding:25px; margin:30px 0;">
                <div style="display:flex; justify-content:space-between; margin-bottom:15px;">
                    <span style="color:var(--gray-light);">Nombre de votes :</span>
                    <span style="color:var(--light); font-weight:600; font-size:1.2rem;" id="selectedVotes">0</span>
                </div>
                <div style="display:flex; justify-content:space-between; margin-bottom:15px;">
                    <span style="color:var(--gray-light);">Prix unitaire :</span>
                    <span style="color:var(--light); font-weight:600;">100 FCFA</span>
                </div>
                <div style="display:flex; justify-content:space-between; margin-bottom:15px; padding-bottom:15px; border-bottom:1px solid rgba(255,255,255,0.1);">
                    <span style="color:var(--gray-light);">√âconomie :</span>
                    <span style="color:var(--success); font-weight:600;" id="savings">0 FCFA</span>
                </div>
                <div style="display:flex; justify-content:space-between;">
                    <span style="color:var(--light); font-weight:700; font-size:1.3rem;">Total √† payer :</span>
                    <span style="color:var(--accent); font-weight:900; font-size:1.8rem;" id="totalPrice">0 FCFA</span>
                </div>
            </div>

            <!-- Bouton de vote -->
            <button class="vote-btn" id="voteButton" onclick="openConfirmationModal()" disabled>
                <i class="fas fa-vote-yea"></i>
                <span class="btn-text">ACHETER ET VOTER</span>
                <i class="fas fa-spinner btn-spinner"></i>
            </button>

            <!-- Informations de paiement -->
            <div style="margin-top:25px; padding:20px; background:rgba(255,51,102,0.1); border-radius:15px; border:1px solid rgba(255,51,102,0.2);">
                <div style="color:var(--primary); font-weight:600; margin-bottom:10px;">
                    <i class="fas fa-lock"></i> PAIEMENT S√âCURIS√â
                </div>
                <div style="color:var(--gray-light); font-size:0.95rem; line-height:1.6;">
                    ‚Ä¢ Paiement via Mobile Money (Moov, Airtel)<br>
                    ‚Ä¢ Transaction 100% s√©curis√©e<br>
                    ‚Ä¢ Re√ßu instantan√© par WhatsApp<br>
                    ‚Ä¢ Support disponible 24/7
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de confirmation -->
    <div class="modal-overlay" id="confirmationModal">
        <div class="modal">
            <div class="modal-header">
                <div class="modal-icon">
                    <i class="fas fa-check-circle"></i>
                </div>
                <h2 class="modal-title">CONFIRMER VOTRE VOTE</h2>
                <p class="modal-subtitle">
                    Vous √™tes sur le point d'acheter <span id="modalVotesCount">0</span> votes 
                    pour <span id="modalCandidateName">le candidat</span>.
                </p>
            </div>

            <div class="modal-details">
                <div class="modal-detail-item">
                    <span class="modal-detail-label">Candidat :</span>
                    <span class="modal-detail-value" id="modalCandidateNameFull">-</span>
                </div>
                <div class="modal-detail-item">
                    <span class="modal-detail-label">Ticket :</span>
                    <span class="modal-detail-value" id="modalTicket">-</span>
                </div>
                <div class="modal-detail-item">
                    <span class="modal-detail-label">Nombre de votes :</span>
                    <span class="modal-detail-value" id="modalVotes">0</span>
                </div>
                <div class="modal-detail-item">
                    <span class="modal-detail-label">Montant total :</span>
                    <span class="modal-detail-value" id="modalAmount">0 FCFA</span>
                </div>
                <div class="modal-detail-item">
                    <span class="modal-detail-label">√âconomie r√©alis√©e :</span>
                    <span class="modal-detail-value" style="color:var(--success);" id="modalSavings">0 FCFA</span>
                </div>
            </div>

            <div class="modal-actions">
                <button class="modal-btn cancel" onclick="closeConfirmationModal()">
                    <i class="fas fa-times"></i> Annuler
                </button>
                <button class="modal-btn confirm" onclick="processPayment()">
                    <i class="fas fa-check"></i> Confirmer le paiement
                </button>
            </div>
        </div>
    </div>

    <!-- Loader -->
    <div class="loader-overlay" id="loaderOverlay">
        <div class="loader"></div>
    </div>

    <!-- Toast Notification -->
    <div class="toast" id="toast">
        <i class="fas fa-check-circle toast-icon"></i>
        <div class="toast-message" id="toastMessage">Message de notification</div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-links">
            <a href="index.html" class="footer-link">
                <i class="fas fa-home"></i> Accueil
            </a>
            <a href="register.html" class="footer-link">
                <i class="fas fa-user-plus"></i> Devenir candidat
            </a>
            <a href="https://whatsapp.com/channel/0029VbBi7Dj11ulUOLdute3e" class="footer-link">
                <i class="fab fa-whatsapp"></i> Cha√Æne officielle
            </a>
            <a href="#" class="footer-link">
                <i class="fas fa-question-circle"></i> Aide
            </a>
        </div>
        <div>¬© 2026 Llamabuzz WhatsApp Awards. Tous droits r√©serv√©s. | √âdition M√©ta 2026</div>
    </footer>

    <script>
        // ============================
        // VARIABLES GLOBALES
        // ============================
        let selectedVoteOption = null;
        let candidateData = {};
        let voteData = {};
        let isProcessing = false;

        // ============================
        // INITIALISATION
        // ============================
        document.addEventListener('DOMContentLoaded', function() {
            // R√©cup√©rer les param√®tres de l'URL
            const urlParams = new URLSearchParams(window.location.search);
            const ticket = urlParams.get('ticket');
            const name = urlParams.get('name');
            const category = urlParams.get('cat');
            
            // Si aucun ticket dans l'URL, rediriger
            if (!ticket) {
                showToast('Ticket invalide. Redirection...', 'error');
                setTimeout(() => {
                    window.location.href = 'index.html';
                }, 2000);
                return;
            }
            
            // Initialiser les donn√©es du candidat
            initializeCandidateData(ticket, name, category);
            
            // Afficher le ticket
            document.getElementById('ticketDisplay').textContent = ticket;
            
            // Charger les statistiques
            loadStatistics();
            
            // G√©n√©rer un avatar al√©atoire
            generateRandomAvatar();
            
            // S√©lectionner l'option de vote par d√©faut
            const defaultOption = document.querySelector('.vote-option');
            if (defaultOption) {
                selectVoteOption(defaultOption);
            }
        });

        // ============================
        // FONCTIONS CANDIDAT
        // ============================
        function initializeCandidateData(ticket, name, category) {
            // R√©cup√©rer les donn√©es depuis localStorage ou utiliser des valeurs par d√©faut
            const savedData = localStorage.getItem('llamabuzz_registration');
            
            if (savedData) {
                try {
                    const data = JSON.parse(savedData);
                    candidateData = {
                        name: data.name || name || `Candidat ${ticket.substring(0, 6)}`,
                        category: data.category || category || 'Influenceur de l\'ann√©e',
                        bio: data.bio || 'Un candidat talentueux aux WhatsApp Awards 2026.',
                        ticket: ticket
                    };
                } catch (e) {
                    candidateData = getDefaultCandidateData(ticket, name, category);
                }
            } else {
                candidateData = getDefaultCandidateData(ticket, name, category);
            }
            
            // Mettre √† jour l'interface
            updateCandidateUI();
        }

        function getDefaultCandidateData(ticket, name, category) {
            const categories = [
                'Influenceur de l\'ann√©e',
                'Artiste de l\'ann√©e',
                'Entrepreneur de l\'ann√©e',
                'Sportif de l\'ann√©e',
                'Humoriste de l\'ann√©e',
                'Influenceur Mode & Beaut√©',
                'Influenceur Cuisine',
                'Influenceur Tech & Gaming'
            ];
            
            const bios = [
                'Passionn√© et d√©termin√© √† remporter les WhatsApp Awards 2026 !',
                'Talentueux et engag√© pour repr√©senter sa cat√©gorie avec excellence.',
                'Une personnalit√© inspirante qui m√©rite votre soutien.',
                'D√©termin√© √† atteindre le sommet gr√¢ce √† votre pr√©cieux soutien.'
            ];
            
            return {
                name: name || `Candidat ${ticket.substring(0, 6)}`,
                category: category || categories[Math.floor(Math.random() * categories.length)],
                bio: bios[Math.floor(Math.random() * bios.length)],
                ticket: ticket
            };
        }

        function updateCandidateUI() {
            document.getElementById('candidateName').textContent = candidateData.name;
            document.getElementById('candidateCategory').textContent = candidateData.category;
            document.getElementById('candidateBio').textContent = candidateData.bio;
            
            // Mettre √† jour les noms dans le modal
            document.getElementById('modalCandidateName').textContent = candidateData.name.split(' ')[0];
            document.getElementById('modalCandidateNameFull').textContent = candidateData.name;
            document.getElementById('modalTicket').textContent = candidateData.ticket;
        }

        function generateRandomAvatar() {
            const avatarColors = ['#FF3366', '#6C63FF', '#00D4FF', '#00D95F', '#FFAA00'];
            const color = avatarColors[Math.floor(Math.random() * avatarColors.length)];
            const initials = candidateData.name.split(' ').map(n => n[0]).join('').toUpperCase();
            
            const avatarDiv = document.getElementById('candidateAvatar');
            avatarDiv.style.background = color;
            avatarDiv.innerHTML = `
                <div style="width:100%; height:100%; display:flex; align-items:center; justify-content:center; color:white; font-size:2.5rem; font-weight:700;">
                    ${initials.substring(0, 2)}
                </div>
            `;
        }

        // ============================
        // FONCTIONS DE VOTE
        // ============================
        function selectVoteOption(element) {
            // D√©s√©lectionner l'option pr√©c√©dente
            if (selectedVoteOption) {
                selectedVoteOption.classList.remove('selected');
            }
            
            // S√©lectionner la nouvelle option
            element.classList.add('selected');
            selectedVoteOption = element;
            
            // R√©cup√©rer les donn√©es
            const votes = parseInt(element.getAttribute('data-votes'));
            const price = parseInt(element.getAttribute('data-price'));
            const unitPrice = 100;
            const totalVotes = votes * unitPrice;
            const savings = totalVotes - price;
            
            // Mettre √† jour l'interface
            document.getElementById('selectedVotes').textContent = votes;
            document.getElementById('totalPrice').textContent = formatPrice(price);
            document.getElementById('savings').textContent = formatPrice(savings);
            
            // Activer le bouton de vote
            document.getElementById('voteButton').disabled = false;
            
            // Sauvegarder les donn√©es de vote
            voteData = {
                votes: votes,
                price: price,
                savings: savings,
                unitPrice: unitPrice
            };
        }

        function openConfirmationModal() {
            if (!selectedVoteOption || isProcessing) return;
            
            // Mettre √† jour le modal avec les donn√©es
            document.getElementById('modalVotesCount').textContent = voteData.votes;
            document.getElementById('modalVotes').textContent = voteData.votes;
            document.getElementById('modalAmount').textContent = formatPrice(voteData.price);
            document.getElementById('modalSavings').textContent = formatPrice(voteData.savings);
            
            // Afficher le modal
            document.getElementById('confirmationModal').classList.add('show');
        }

        function closeConfirmationModal() {
            document.getElementById('confirmationModal').classList.remove('show');
        }

        async function processPayment() {
            if (isProcessing) return;
            
            isProcessing = true;
            closeConfirmationModal();
            
            // Afficher le loader
            document.getElementById('loaderOverlay').classList.add('show');
            
            // Simuler un paiement (remplacez par un vrai appel API)
            setTimeout(async () => {
                try {
                    // Simulation de paiement r√©ussi
                    const paymentId = 'PAY-' + Date.now().toString().slice(-8);
                    const transactionId = 'TXN-' + Math.random().toString(36).substr(2, 9).toUpperCase();
                    
                    // Mettre √† jour les statistiques
                    await updateVoteStatistics(voteData.votes);
                    
                    // Envoyer une notification WhatsApp (simulation)
                    await sendWhatsAppNotification(paymentId, transactionId);
                    
                    // Cacher le loader
                    document.getElementById('loaderOverlay').classList.remove('show');
                    
                    // Afficher la confirmation
                    showPaymentConfirmation(paymentId, transactionId);
                    
                    // Mettre √† jour le localStorage
                    saveVoteTransaction({
                        candidate: candidateData.name,
                        ticket: candidateData.ticket,
                        votes: voteData.votes,
                        amount: voteData.price,
                        paymentId: paymentId,
                        transactionId: transactionId,
                        date: new Date().toISOString()
                    });
                    
                } catch (error) {
                    console.error('Erreur lors du paiement:', error);
                    document.getElementById('loaderOverlay').classList.remove('show');
                    showToast('Erreur lors du traitement du paiement. Veuillez r√©essayer.', 'error');
                } finally {
                    isProcessing = false;
                }
            }, 2000);
        }

        // ============================
        // FONCTIONS UTILITAIRES
        // ============================
        function formatPrice(price) {
            return new Intl.NumberFormat('fr-FR', {
                style: 'decimal',
                minimumFractionDigits: 0,
                maximumFractionDigits: 0
            }).format(price) + ' FCFA';
        }

        async function loadStatistics() {
            // Simuler un chargement d'API
            setTimeout(() => {
                const randomVotes = Math.floor(Math.random() * 1000) + 100;
                const randomRank = Math.floor(Math.random() * 50) + 1;
                
                document.getElementById('votesCount').textContent = randomVotes.toLocaleString();
                document.getElementById('ranking').textContent = `#${randomRank}`;
            }, 500);
        }

        async function updateVoteStatistics(newVotes) {
            // Simuler une mise √† jour des statistiques
            const currentVotes = parseInt(document.getElementById('votesCount').textContent.replace(/,/g, '') || 0);
            const newTotal = currentVotes + newVotes;
            
            // Animation du compteur
            animateCounter('votesCount', currentVotes, newTotal, 1000);
            
            // Mettre √† jour le classement (simulation)
            setTimeout(() => {
                const currentRank = parseInt(document.getElementById('ranking').textContent.replace('#', '') || 50);
                const newRank = Math.max(1, currentRank - Math.floor(newVotes / 100));
                document.getElementById('ranking').textContent = `#${newRank}`;
            }, 1200);
        }

        function animateCounter(elementId, start, end, duration) {
            const element = document.getElementById(elementId);
            const range = end - start;
            const startTime = Date.now();
            
            function update() {
                const elapsed = Date.now() - startTime;
                const progress = Math.min(elapsed / duration, 1);
                const easeProgress = 1 - Math.pow(1 - progress, 3); // Easing
                const currentValue = Math.floor(start + range * easeProgress);
                
                element.textContent = currentValue.toLocaleString();
                
                if (progress < 1) {
                    requestAnimationFrame(update);
                }
            }
            
            update();
        }

        async function sendWhatsAppNotification(paymentId, transactionId) {
            // Simulation d'envoi de notification WhatsApp
            const message = `‚úÖ VOTRE VOTE A √âT√â CONFIRM√â\n\n` +
                          `Candidat: ${candidateData.name}\n` +
                          `Ticket: ${candidateData.ticket}\n` +
                          `Votes: ${voteData.votes}\n` +
                          `Montant: ${formatPrice(voteData.price)}\n` +
                          `Transaction: ${transactionId}\n\n` +
                          `Merci pour votre soutien !`;
            
            console.log('Notification WhatsApp (simul√©e):', message);
            return Promise.resolve();
        }

        function showPaymentConfirmation(paymentId, transactionId) {
            // Cr√©er un modal de confirmation
            const modalHTML = `
                <div class="modal">
                    <div class="modal-header">
                        <div class="modal-icon" style="color:var(--success);">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <h2 class="modal-title">PAIEMENT R√âUSSI !</h2>
                        <p class="modal-subtitle">
                            Merci pour votre vote ! Votre soutien a √©t√© enregistr√© avec succ√®s.
                        </p>
                    </div>
                    
                    <div class="modal-details">
                        <div class="modal-detail-item">
                            <span class="modal-detail-label">Candidat :</span>
                            <span class="modal-detail-value">${candidateData.name}</span>
                        </div>
                        <div class="modal-detail-item">
                            <span class="modal-detail-label">Transaction :</span>
                            <span class="modal-detail-value">${transactionId}</span>
                        </div>
                        <div class="modal-detail-item">
                            <span class="modal-detail-label">Nombre de votes :</span>
                            <span class="modal-detail-value">${voteData.votes}</span>
                        </div>
                        <div class="modal-detail-item">
                            <span class="modal-detail-label">Montant pay√© :</span>
                            <span class="modal-detail-value" style="color:var(--success);">${formatPrice(voteData.price)}</span>
                        </div>
                    </div>
                    
                    <div style="margin-top:30px; padding:20px; background:rgba(0,212,255,0.1); border-radius:12px; border:1px solid rgba(0,212,255,0.2);">
                        <div style="color:var(--accent); font-weight:600; margin-bottom:10px;">
                            <i class="fas fa-info-circle"></i> PROCHAINES √âTAPES
                        </div>
                        <div style="color:var(--gray-light); font-size:0.95rem; line-height:1.6;">
                            ‚Ä¢ Vous recevrez un re√ßu sur WhatsApp<br>
                            ‚Ä¢ Les votes seront comptabilis√©s imm√©diatement<br>
                            ‚Ä¢ Suivez le classement en temps r√©el<br>
                            ‚Ä¢ Partagez pour plus de soutien !
                        </div>
                    </div>
                    
                    <div class="modal-actions">
                        <button class="modal-btn cancel" onclick="closeSuccessModal()">
                            <i class="fas fa-times"></i> Fermer
                        </button>
                        <button class="modal-btn confirm" onclick="shareVote()" style="background:var(--secondary);">
                            <i class="fas fa-share-alt"></i> Partager
                        </button>
                    </div>
                </div>
            `;
            
            // Cr√©er et afficher le modal
            const successModal = document.createElement('div');
            successModal.className = 'modal-overlay show';
            successModal.id = 'successModal';
            successModal.innerHTML = modalHTML;
            document.body.appendChild(successModal);
            
            // Notification toast
            showToast(`Vote r√©ussi ! ${voteData.votes} votes ajout√©s.`, 'success');
        }

        function closeSuccessModal() {
            const modal = document.getElementById('successModal');
            if (modal) {
                modal.remove();
            }
        }

        function shareVote() {
            const shareText = `üéØ Je viens de voter pour ${candidateData.name} aux #WhatsAppAwards2026 !\n` +
                            `Soutenez aussi en votant ici : ${window.location.href}\n` +
                            `#Llamabuzz #VoteNow`;
            
            if (navigator.share) {
                navigator.share({
                    title: 'Votez pour ce candidat !',
                    text: shareText,
                    url: window.location.href
                });
            } else {
                navigator.clipboard.writeText(shareText + '\n' + window.location.href)
                    .then(() => {
                        showToast('Texte copi√© dans le presse-papier !', 'success');
                    });
            }
        }

        function saveVoteTransaction(data) {
            // Sauvegarder l'historique des votes
            let voteHistory = JSON.parse(localStorage.getItem('llamabuzz_vote_history') || '[]');
            voteHistory.push(data);
            localStorage.setItem('llamabuzz_vote_history', JSON.stringify(voteHistory));
            
            // Mettre √† jour le total des votes pour ce candidat
            const candidateVotesKey = `votes_${candidateData.ticket}`;
            const currentVotes = parseInt(localStorage.getItem(candidateVotesKey) || '0');
            localStorage.setItem(candidateVotesKey, (currentVotes + data.votes).toString());
        }

        function showToast(message, type = 'success') {
            const toast = document.getElementById('toast');
            const toastMessage = document.getElementById('toastMessage');
            
            toast.className = `toast ${type}`;
            toastMessage.textContent = message;
            toast.querySelector('.toast-icon').className = type === 'success' 
                ? 'fas fa-check-circle toast-icon' 
                : 'fas fa-exclamation-triangle toast-icon';
            
            toast.classList.add('show');
            
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }

        // ============================
        // FONCTIONS DE D√âPANNAGE
        // ============================
        function forceVote() {
            // Fonction de secours si le syst√®me de vote ne fonctionne pas
            const votes = prompt("Combien de votes souhaitez-vous acheter ?", "10");
            if (votes && !isNaN(votes)) {
                showToast(`Simulation : ${votes} votes achet√©s pour ${candidateData.name}`, 'success');
                
                // Mettre √† jour les statistiques
                const currentVotes = parseInt(document.getElementById('votesCount').textContent.replace(/,/g, '') || 0);
                const newTotal = currentVotes + parseInt(votes);
                document.getElementById('votesCount').textContent = newTotal.toLocaleString();
            }
        }

        // Exposer certaines fonctions globalement pour le d√©bogage
        window.forceVote = forceVote;
        window.showToast = showToast;
    </script>
</body>
</html>
